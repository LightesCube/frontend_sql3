<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Total de Empleados desde Fecha</title>
</head>
<body>
<h2>Total de empleados desde una fecha</h2>

<label for="fromDate">Seleccione una fecha:</label>
<input type="date" id="fromDate">
<button onclick="consultar()">Consultar</button>

<p id="resultado"></p>

<script>
    async function consultar() {
        const date = document.getElementById('fromDate').value;

        if (!date) {
            document.getElementById('resultado').textContent = "Por favor seleccione una fecha.";
            return;
        }

        try {
            const response = await fetch(`http://200.13.4.238/api/query3?fromDate=${encodeURIComponent(date)}`, {
                method: 'GET'
            });

            if (!response.ok) {
                throw new Error(`Error HTTP: ${response.status}`);
            }

            const total = await response.json();

            document.getElementById('resultado').textContent =
                `Total de empleados desde ${date}: ${total}`;
        } catch (err) {
            document.getElementById('resultado').textContent =
                "Ocurri√≥ un error: " + err.message;
        }
    }
</script>
</body>
</html>
