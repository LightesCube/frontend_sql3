<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Consulta de Empleados</title>
</head>
<body>
<h2>SQL3: Total de empleados desde una fecha</h2>

<label for="fromDate">Seleccione una fecha:</label>
<input type="date" id="fromDate">
<button onclick="consultar()">Consultar</button>

<p id="resultado"></p>

<script>
    async function consultar() {
        const date = document.getElementById('fromDate').value;

        if (!date) {
            alert("Por favor seleccione una fecha.");
            return;
        }

        try {
            const response = await fetch(`http://200.13.4.238/api/total-empleados?fromDate=${encodeURIComponent(date)}`, {
                method: 'GET',
                headers: { 'Content-Type': 'application/json' }
            });

            if (!response.ok) {
                throw new Error(`Error HTTP: ${response.status}`);
            }

            const data = await response.json();

            document.getElementById('resultado').textContent =
                `Total de empleados desde ${date}: ${data.total}`;
        } catch (err) {
            document.getElementById('resultado').textContent =
                "Ocurri√≥ un error: " + err.message;
        }
    }
</script>
</body>
</html>
